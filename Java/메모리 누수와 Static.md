# 1. 메모리 누수

## 1.1 메모리 누수(memory leak)란?

**자바의 메모리 누수는 더 이상 사용되지 않는 객체들이 GC에 의해 소멸되지 않고 누적되는 현상이다.** 따라서 어플리케이션 성능 저하를 일으키고, `Out Of Memory Error` 를 발생시키기 때문에 주의해야한다. 

그렇다면 언제 메모리 누수가 발생할까?

## 1.2 메모리 누수가 발생하는 경우

### 1. static 변수에 의한 객체 참조

결론부터 말하면 `static`을 사용했을 때 메모리 누수가 발생할 가능성이있다. 왜냐면 `static`영역 즉 JVM의 `Rumtime data area`의 `Method area` ( = `static area`)에 존재하기 때문에 GC의 관리 영역 밖에 있기 때문이다. 

`static`은 고정된 이라는 뜻으로 **static 변수**와 **static 메소드**가 있다. 이 두 멤버는 모두 객체가 아니라 클래스에 속해있다. 따라서 클래스 로더가 클래스를 로딩할때 `Method area`에 영역에 할당된다.

이렇게 할당된 메모리는 모든 객체가 공유할수 있는 수 있는 장점을 가지지만 동시에 GC의 관리 밖에 존재한다.  따라서 사용하지 않고 할당만 계속 한다면 GC가 발생하지 않아 메모리 누수로 이어지기 때문에 꼭 필요한 경우에만 static 변수를 사용해야한다. 

참고로 static 블록도 클래스가 최초 로딩할때 딱 1회만 실행된다.  

### 2. 무의미한 wrapper 객체를 생성하는 경우

gc는 `immutable`한 객체를 대상으로 삼지 않는다. 여기서 `immutable`의 의미는 불변하다라는 의미로 객체 생성 이후 값을 변경할 수 없다.  대표적인 불편 객체로는 `String`, `Integer`, `Long`,`Double` 와 같은 `wrapper class`가 있다. 

불변객체는 컨테이너 자체가 사라질때 같이 삭제하기 되며, 계속해서 메모리를 점유하기 때문에  `wrapper class` 사용은 주의해야한다.