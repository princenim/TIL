
# 📌 ERD 다이어그램

# 1. ERD

`ERD(Entity Relationship Diagram)`은 `엔티티(Entity)`, `속성(Attribute`),`관계(Relationship)`로 구성된다.

- `엔티티`는 시스템화하고자하는 사물이나 현실세계의 객체를 말한다. 직사각형 상자로 표시된다.
- `속성`은 엔티티가 가지고 있는 특성이나 속성을 말한다. 엔티티 안에 속성이름은 소문자로 기재된다.
- `관계`는 엔티티간의 연결을 나타내고, 데이터베이스에서의 관련성을 표현한다. 관계는 양방향 또는 단방향일 수 있다. 관계선으로 표시된다.

## 1.1 ERD 표기법

<img width="827" alt="erd2" src="https://github.com/princenim/TIL/assets/59499600/a5efc337-9c93-46ad-b144-c37e93ff4fd0">


카디널리티를 가지고 오른쪽의 그림을 설명하면 `1대1`, `1대 다`, `다대다`의 관계를 표현했다.

## 1.2 식별관계와 비식별관계

RDBMS의 테이블을 생성하고, 각 테이블마다 관계를 설정할때 `외래키(FK, Foreign Key)`를 사용한다. 외래키는 한 테이블의 필드가 다른 테이블의 `기본키(PK, Primary Key)`를 참조하는 데 사용한다.  외래키를 통해 키를 공유하고 이를 조인해서 관계를 이용하는데 외래키를 사용해 테이블간 관계를 사용하는 전략은 크게 `식별관계`, `비식별 관계` 전략이 존재한다.

그전에 외래키와 기본키를 좀더 자세히 알아보자

### 기본키와 외래키

`기본키`는 고유성을 갖는다. 다시말해 테이블 내의 각 행은 서로 다른 기본키 값을 가져 같은 값을 가질 수 없다. 그리고 기본키는 NULL 값을 허용하지 않는다. 따라서 값의 변동이 잦은 후보키는 기본키로 부적절하며 하나의 테이블에는 반드시 하나의 기본키만 존재한다.

`외래키`는 다른 테이블의 기본키를 참조한 키를 말한다. 따라서 외래키의 값은 참조하는 테이블의 기본키값과 일치해야하며 NULL 이어야한다.

### 식별관계

**부모 테이블의 기본키를 자식 테이블의 외래키이면서 동시에 기본키가 되는 관계이다.** 부모 테이블의 키가 자신의 기본키에 포함되기 때문에 부모 테이블의 데이터가 반드시 존재해야 자식 테이블에 데이터를 입력할 수 있다. ERD상에서는 `실선`으로 표현한다. 밑의 그림은 `1대다`의 식별관계이다.



### 비식별관계

**부모테이블의 기본키가 자식 테이블의 기본키가 아니면서 외래키인 관계를 말한다.**  자식 데이터는 부모 데이터가 없어도 독립적으로 생성될 수 있다. 부모와의 의존성을 줄일수 있어서 조금 더 자유로운 데이터 생성과 수정이 가능하다. ERD 상에서 `점선`으로 표현한다.